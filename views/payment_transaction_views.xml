<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- iyzico Transaction Form View Extension -->
    <record id="payment_transaction_form_iyzico" model="ir.ui.view">
        <field name="name">payment.transaction.form.iyzico</field>
        <field name="model">payment.transaction</field>
        <field name="inherit_id" ref="payment.payment_transaction_form"/>
        <field name="arch" type="xml">
            <!-- Add iyzico-specific information after provider_reference field -->
            <field name="provider_reference" position="after">
                <!-- iyzico 3D Secure Information -->
                <group string="iyzico Payment Details" 
                       name="iyzico_details"
                       invisible="provider_code != 'iyzico'">
                    <group>
                        <field name="iyzico_3ds_status"/>
                        <field name="iyzico_eci"/>
                        <field name="iyzico_installment"/>
                    </group>
                    <group>
                        <field name="iyzico_card_association"/>
                        <field name="iyzico_card_type"/>
                        <field name="iyzico_card_family"/>
                    </group>
                </group>
            </field>
        </field>
    </record>
</odoo>
